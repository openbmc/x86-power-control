{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "121321fe_30c2e1d1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-10-31T01:57:10Z",
      "side": 1,
      "message": "I\u0027m not necessarily opposed to this feature, but this example sounds like a problem with under-specified service dependencies -- i.e. x86-power-control starting before another service that provides the dbus object it\u0027s going to be looking for.  Are there cases of this sort of problem arising even with properly specified dependencies?",
      "range": {
        "startLine": 12,
        "startChar": 27,
        "endLine": 13,
        "endChar": 38
      },
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21dba1bb_488bcad6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1001329
      },
      "writtenOn": "2022-10-31T08:46:33Z",
      "side": 1,
      "message": "I have tested that possibility. Unfortunately, even when x86-power-control is defined to run after service that creates needed DBus interfaces, I\u0027ve observed problem with exception. The problem is that second service doesn\u0027t create all of its interfaces right away, and as result they don\u0027t exist yet when x86-power-control starts.",
      "parentUuid": "121321fe_30c2e1d1",
      "range": {
        "startLine": 12,
        "startChar": 27,
        "endLine": 13,
        "endChar": 38
      },
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0db4bd1b_97802a67",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000733
      },
      "writtenOn": "2022-11-09T03:23:51Z",
      "side": 1,
      "message": "Hmm, in that case I\u0027d think maybe the appropriate solution would be to add a mapper-wait dependency to the x86-power-control service definition instead?  That could be done entirely in bitbake even...",
      "parentUuid": "21dba1bb_488bcad6",
      "range": {
        "startLine": 12,
        "startChar": 27,
        "endLine": 13,
        "endChar": 38
      },
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "47747776_f3e1005e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2022-11-09T19:59:42Z",
      "side": 1,
      "message": "I have heard of issues in the past with using mapper-wait in the service.  I don\u0027t remember the details, but in this case, it creates a circular dependency with the application that is providing our POST Complete D-Bus property.  That service won\u0027t provide POST Complete status until it sees the correct host state from x86-power-control.\n\nI feel like we could implement the D-Bus handling better with matches on InterfacesAdded and PropertiesChanged to handle the signal change events as they come in.  But that is a larger effort to rework overall how D-Bus properties are managed.  Could this solution work for now until we can figure out a more robust solution to handle D-Bus properties?",
      "parentUuid": "0db4bd1b_97802a67",
      "range": {
        "startLine": 12,
        "startChar": 27,
        "endLine": 13,
        "endChar": 38
      },
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be361482_0f420ba4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2022-11-08T18:51:34Z",
      "side": 1,
      "message": "This looks okay especially as a starting point for this solution, so I\u0027m giving +1 for now.  If there is no other feedback, I will promote to +2.\n\n@Zev, did you have any additional concerns?",
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca96f1c3_2dd48b09",
        "filename": "src/power_control.cpp",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000276
      },
      "writtenOn": "2022-11-08T18:51:34Z",
      "side": 1,
      "message": "It may be good to also update the default JSON config file with this default value.",
      "revId": "1d42b5f91a201d467744a8b57aad50bbd858b89e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}